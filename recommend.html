<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Bryan Yuen Personal Profile</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://www.gstatic.com/firebasejs/5.9.0/firebase.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

    <script>
        // Initialize Firebase
        var config = {
            apiKey: "AIzaSyCkW5kLw1F-WwodPwQTbNGwf77hLHhx30w",
            authDomain: "bryan-profile.firebaseapp.com",
            databaseURL: "https://bryan-profile.firebaseio.com",
            projectId: "bryan-profile",
            storageBucket: "bryan-profile.appspot.com",
            messagingSenderId: "3141904489"
        };
        firebase.initializeApp(config);

        function signOut(){
            firebase.auth().signOut().then(function() {
                alert("Signed out!");
                window.location.href = './index.html';
            }).catch(function(error) {
                // An error happened.
            });
        }

    </script>
</head>
<body>
<nav class="navbar navbar-expand-lg bg-dark navbar-dark">
    <a class="navbar-brand" href=./index.html>Bryan Yuen</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href=aboutme.html>About Me</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href=projects.html>Projects</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href=interest.html>Interest</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href=recommend.html>Tech Channels</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href=message.html>Message Board</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href=contact.html>Contact Me</a>
            </li>
            <li class="btn btn-primary btn-sm" onclick="signOut()">
                <a class="nav-link" href="#">Sign Out</a>
            </li>
        </ul>
    </div>
</nav>
<div class="container">
    <div class="card-deck" id="cardlist">

    </div>
</div>
<br>
<br>
<br>
<br>
<footer class="page-footer font-small bg-dark fixed-bottom">
    <div class="footer-copyright text-center text-light py-3">Â© 2019 Copyright : Bryan Yuen
    </div>
</footer>
<script>
    var db = firebase.firestore();
    const collection = db.collection('tc');
    collection.get().then(snapshot => {
        snapshot.forEach(doc => {
            var dbo = Object.assign({ uid: doc.id }, doc.data());
            var tc_n = dbo.tc_name;
            var tc_d = dbo.tc_des;
            var tc_url = dbo.tc_link;

            var tc_vid = "<iframe class=\"embed-responsive-item\"  src=" + tc_url + "></iframe>\n";

            var div = document.createElement("div");

            div.innerHTML =
                '<br>'+
                '<div class="card text-center">\n' +
                '<div class="card-body text-center">\n' +
                '<h4 class="text-center container-fluid">\n' +
                tc_n +'\n' +
                '</h4>\n' +
                '<p class="card-text text-center container-fluid">\n' +
                tc_d + '\n' +
                '</p>' +
                '</div>\n' +
                '<div class="card-footer text-muted embed-responsive embed-responsive-16by9">\n' +
                tc_vid +
                '</div>'+
                '</div>\n';

            document.getElementById("cardlist").appendChild(div);
        });
    })
</script>
</body>
</html>